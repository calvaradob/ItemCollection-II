{"ast":null,"code":"var _jsxFileName = \"/Users/solandrea/Desktop/Escuela Digital/Entregas-React/Ejemplo e-commerce/src/components/Items/ItemDetailContainer/ItemDetailContainer.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport ItemDetail from '../ItemDetail/ItemDetail';\nimport { useParams } from 'react-router-dom';\nimport { getFirestore } from '../../../firebase';\nimport './styles.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ItemDetailContainer() {\n  _s();\n\n  const {\n    id\n  } = useParams();\n  const [item, setItem] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [product, setProduct] = useState({});\n  useEffect(() => {\n    setLoading(true);\n    const db = getFirestore();\n    const itemCollection = db.collection('items');\n    const item = itemCollection.doc(id);\n    item.get().then(doc => {\n      if (!doc.exists) {\n        console.log(\"Item does not exist!\");\n        return true;\n      }\n\n      setProduct({\n        id: doc.id,\n        ...doc.data()\n      });\n    }).catch(error => {\n      console.log('Error searching item: ', error);\n    }).finally(() => {\n      setLoading(false);\n    });\n  }, [id]);\n  useEffect(() => {\n    setLoading(true);\n    fetch(`${process.env.REACT_APP_API_URL}/products/${id}`).then(response => {\n      return response.json();\n    }).then(res => {\n      setItem(res);\n      setLoading(false);\n    });\n  }, [id]);\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-10\",\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 16\n    }, this);\n  }\n\n  const itemToView = () => {\n    let send = {};\n    item.message === \"The product doesnt exists\" ? send = product : send = item;\n    return send;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mt-10\",\n    children: /*#__PURE__*/_jsxDEV(ItemDetail, {\n      data: itemToView()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ItemDetailContainer, \"ddWnAwJx2UxydS9jXE/oGyyBNZg=\", false, function () {\n  return [useParams];\n});\n\n_c = ItemDetailContainer;\n\nvar _c;\n\n$RefreshReg$(_c, \"ItemDetailContainer\");","map":{"version":3,"names":["React","useEffect","useState","ItemDetail","useParams","getFirestore","ItemDetailContainer","id","item","setItem","loading","setLoading","product","setProduct","db","itemCollection","collection","doc","get","then","exists","console","log","data","catch","error","finally","fetch","process","env","REACT_APP_API_URL","response","json","res","itemToView","send","message"],"sources":["/Users/solandrea/Desktop/Escuela Digital/Entregas-React/Ejemplo e-commerce/src/components/Items/ItemDetailContainer/ItemDetailContainer.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport ItemDetail from '../ItemDetail/ItemDetail';\nimport {useParams} from 'react-router-dom';\nimport { getFirestore } from '../../../firebase';\nimport './styles.css';\n\nexport default function ItemDetailContainer() {\n\n    const {id} = useParams();\n    const [item, setItem] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const [product, setProduct] = useState({});\n\n    useEffect(() => {\n        setLoading(true);\n        const db = getFirestore();\n        const itemCollection = db.collection('items');\n        const item = itemCollection.doc(id);\n\n        item.get()\n        .then((doc) => {\n            if(!doc.exists){\n                console.log(\"Item does not exist!\");\n                return true;\n            }\n            setProduct({id: doc.id, ...doc.data()});\n        })\n        .catch((error) => {\n            console.log('Error searching item: ', error);\n        })\n        .finally(() => {\n            setLoading(false);\n        })\n    }, [id]);\n    \n    useEffect(() => {\n        setLoading(true);\n        fetch(`${process.env.REACT_APP_API_URL}/products/${id}`)\n        .then(response =>{\n            return response.json();\n        })\n        .then(res => {\n            setItem(res);\n            setLoading(false);\n        })\n    }, [id])\n\n    if(loading){\n        return <div className=\"mt-10\">Loading...</div>\n    }\n\n    const itemToView = () => {\n        let send = {};\n        item.message === \"The product doesnt exists\" ? (send = product) : (send = item)\n\n        return send;\n    }\n    \n    return (\n        <div className=\"mt-10\">\n            \n            <ItemDetail data={itemToView()}/>\n        </div>\n    )\n}\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,SAAQC,SAAR,QAAwB,kBAAxB;AACA,SAASC,YAAT,QAA6B,mBAA7B;AACA,OAAO,cAAP;;AAEA,eAAe,SAASC,mBAAT,GAA+B;EAAA;;EAE1C,MAAM;IAACC;EAAD,IAAOH,SAAS,EAAtB;EACA,MAAM,CAACI,IAAD,EAAOC,OAAP,IAAkBP,QAAQ,CAAC,EAAD,CAAhC;EACA,MAAM,CAACQ,OAAD,EAAUC,UAAV,IAAwBT,QAAQ,CAAC,KAAD,CAAtC;EACA,MAAM,CAACU,OAAD,EAAUC,UAAV,IAAwBX,QAAQ,CAAC,EAAD,CAAtC;EAEAD,SAAS,CAAC,MAAM;IACZU,UAAU,CAAC,IAAD,CAAV;IACA,MAAMG,EAAE,GAAGT,YAAY,EAAvB;IACA,MAAMU,cAAc,GAAGD,EAAE,CAACE,UAAH,CAAc,OAAd,CAAvB;IACA,MAAMR,IAAI,GAAGO,cAAc,CAACE,GAAf,CAAmBV,EAAnB,CAAb;IAEAC,IAAI,CAACU,GAAL,GACCC,IADD,CACOF,GAAD,IAAS;MACX,IAAG,CAACA,GAAG,CAACG,MAAR,EAAe;QACXC,OAAO,CAACC,GAAR,CAAY,sBAAZ;QACA,OAAO,IAAP;MACH;;MACDT,UAAU,CAAC;QAACN,EAAE,EAAEU,GAAG,CAACV,EAAT;QAAa,GAAGU,GAAG,CAACM,IAAJ;MAAhB,CAAD,CAAV;IACH,CAPD,EAQCC,KARD,CAQQC,KAAD,IAAW;MACdJ,OAAO,CAACC,GAAR,CAAY,wBAAZ,EAAsCG,KAAtC;IACH,CAVD,EAWCC,OAXD,CAWS,MAAM;MACXf,UAAU,CAAC,KAAD,CAAV;IACH,CAbD;EAcH,CApBQ,EAoBN,CAACJ,EAAD,CApBM,CAAT;EAsBAN,SAAS,CAAC,MAAM;IACZU,UAAU,CAAC,IAAD,CAAV;IACAgB,KAAK,CAAE,GAAEC,OAAO,CAACC,GAAR,CAAYC,iBAAkB,aAAYvB,EAAG,EAAjD,CAAL,CACCY,IADD,CACMY,QAAQ,IAAG;MACb,OAAOA,QAAQ,CAACC,IAAT,EAAP;IACH,CAHD,EAICb,IAJD,CAIMc,GAAG,IAAI;MACTxB,OAAO,CAACwB,GAAD,CAAP;MACAtB,UAAU,CAAC,KAAD,CAAV;IACH,CAPD;EAQH,CAVQ,EAUN,CAACJ,EAAD,CAVM,CAAT;;EAYA,IAAGG,OAAH,EAAW;IACP,oBAAO;MAAK,SAAS,EAAC,OAAf;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAAP;EACH;;EAED,MAAMwB,UAAU,GAAG,MAAM;IACrB,IAAIC,IAAI,GAAG,EAAX;IACA3B,IAAI,CAAC4B,OAAL,KAAiB,2BAAjB,GAAgDD,IAAI,GAAGvB,OAAvD,GAAmEuB,IAAI,GAAG3B,IAA1E;IAEA,OAAO2B,IAAP;EACH,CALD;;EAOA,oBACI;IAAK,SAAS,EAAC,OAAf;IAAA,uBAEI,QAAC,UAAD;MAAY,IAAI,EAAED,UAAU;IAA5B;MAAA;MAAA;MAAA;IAAA;EAFJ;IAAA;IAAA;IAAA;EAAA,QADJ;AAMH;;GA1DuB5B,mB;UAEPF,S;;;KAFOE,mB"},"metadata":{},"sourceType":"module"}